<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - RenderLine</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600&family=Outfit:wght@300;400;500;600&display=swap"
        rel="stylesheet">

    <style>
        :root {
            --bg-dark: #0a0a0a;
            --bg-card: #141414;
            --bg-hover: #1a1a1a;
            --gold: #d4af37;
            --gold-dark: #b8960c;
            --text: #ffffff;
            --text-dim: #999;
            --border: #2a2a2a;
            --success: #4ade80;
            --danger: #ef4444;
            --warning: #fbbf24;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg-dark);
            color: var(--text);
            overflow-x: hidden;
        }

        /* ========== LOGIN PAGE ========== */
        .login-page {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            position: relative;
            overflow: hidden;
        }

        .login-page::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(212, 175, 55, 0.1) 0%, transparent 70%);
            animation: pulse 8s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
                opacity: 0.3;
            }

            50% {
                transform: scale(1.1);
                opacity: 0.5;
            }
        }

        .login-container {
            background: var(--bg-card);
            padding: 3rem 2.5rem;
            border-radius: 12px;
            border: 1px solid var(--border);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            width: 100%;
            max-width: 420px;
            position: relative;
            z-index: 1;
        }

        .login-logo {
            text-align: center;
            margin-bottom: 2rem;
        }

        .login-logo h1 {
            font-family: 'Cinzel', serif;
            font-size: 2rem;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        .login-logo p {
            color: var(--text-dim);
            font-size: 0.9rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            color: var(--text-dim);
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 0.9rem 1rem;
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text);
            font-family: 'Outfit', sans-serif;
            font-size: 0.95rem;
            transition: all 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--gold);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }

        .btn {
            padding: 0.9rem 2rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Outfit', sans-serif;
            font-size: 0.95rem;
            font-weight: 500;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            justify-content: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
            color: #000;
            width: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.3);
        }

        .error-msg {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: var(--danger);
            padding: 0.8rem 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            display: none;
        }

        .error-msg.show {
            display: block;
        }

        /* ========== ADMIN DASHBOARD ========== */
        .admin-wrapper {
            display: none;
            min-height: 100vh;
        }

        .admin-wrapper.active {
            display: flex;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: var(--bg-card);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            overflow-y: auto;
        }

        .sidebar-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
        }

        .sidebar-header h2 {
            font-family: 'Cinzel', serif;
            font-size: 1.3rem;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .sidebar-header p {
            font-size: 0.8rem;
            color: var(--text-dim);
            margin-top: 0.2rem;
        }

        .sidebar-nav {
            flex: 1;
            padding: 1rem 0;
        }

        .nav-section-title {
            padding: 0.8rem 1.5rem 0.5rem;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-dim);
            font-weight: 600;
        }

        .nav-item {
            padding: 0.8rem 1.5rem;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--text-dim);
            border-left: 3px solid transparent;
            display: flex;
            align-items: center;
            gap: 0.7rem;
        }

        .nav-item:hover {
            background: var(--bg-hover);
            color: var(--text);
        }

        .nav-item.active {
            background: rgba(212, 175, 55, 0.1);
            color: var(--gold);
            border-left-color: var(--gold);
        }

        .nav-icon {
            font-size: 1.1rem;
        }

        .sidebar-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid var(--border);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            margin-bottom: 0.8rem;
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: #000;
        }

        .user-details h4 {
            font-size: 0.9rem;
            color: var(--text);
        }

        .user-details p {
            font-size: 0.75rem;
            color: var(--text-dim);
        }

        .btn-logout {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
            width: 100%;
            padding: 0.6rem;
            font-size: 0.85rem;
        }

        .btn-logout:hover {
            background: rgba(239, 68, 68, 0.2);
        }

        /* Main Content */
        .main-content {
            margin-left: 260px;
            flex: 1;
            padding: 2rem;
            width: calc(100% - 260px);
        }

        .page-header {
            margin-bottom: 2rem;
        }

        .page-header h1 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .page-header p {
            color: var(--text-dim);
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* Cards */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .card h3 {
            margin-bottom: 1rem;
            font-size: 1.1rem;
            color: var(--gold);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 600;
            color: var(--gold);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-dim);
            font-size: 0.9rem;
        }

        /* Forms */
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        textarea {
            width: 100%;
            padding: 0.9rem 1rem;
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text);
            font-family: 'Outfit', sans-serif;
            font-size: 0.95rem;
            resize: vertical;
            min-height: 100px;
        }

        textarea:focus {
            outline: none;
            border-color: var(--gold);
        }

        /* Upload Zone */
        .upload-zone {
            border: 2px dashed var(--border);
            border-radius: 8px;
            padding: 3rem 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .upload-zone:hover {
            border-color: var(--gold);
            background: rgba(212, 175, 55, 0.05);
        }

        .upload-icon {
            font-size: 3rem;
            color: var(--gold);
            margin-bottom: 1rem;
        }

        /* Portfolio Grid */
        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
        }

        .portfolio-item-admin {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            aspect-ratio: 1;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .portfolio-item-admin:hover {
            transform: scale(1.05);
        }

        .portfolio-item-admin img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .portfolio-item-admin .overlay {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .portfolio-item-admin:hover .overlay {
            opacity: 1;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
            padding: 0.5rem 1rem;
            font-size: 0.85rem;
        }

        .btn-success {
            background: var(--success);
            color: #000;
        }

        .alert {
            padding: 1rem 1.5rem;
            border-radius: 6px;
            margin-bottom: 1.5rem;
        }

        .alert-success {
            background: rgba(74, 222, 128, 0.1);
            border: 1px solid rgba(74, 222, 128, 0.3);
            color: var(--success);
        }

        .alert-warning {
            background: rgba(251, 191, 36, 0.1);
            border: 1px solid rgba(251, 191, 36, 0.3);
            color: var(--warning);
        }

        /* Messages Table */
        table {
            width: 100%;
            border-collapse: collapse;
        }

        th,
        td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: var(--bg-dark);
            color: var(--gold);
            font-weight: 600;
            font-size: 0.9rem;
        }

        td {
            color: var(--text);
            font-size: 0.9rem;
        }

        tr:hover {
            background: var(--bg-hover);
        }

        .badge {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .badge-new {
            background: rgba(74, 222, 128, 0.2);
            color: var(--success);
        }

        .badge-read {
            background: rgba(153, 153, 153, 0.2);
            color: var(--text-dim);
        }

        .hidden {
            display: none;
        }

        /* Image Grid for Media Management */
        .image-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 1rem;
        }

        .image-slot {
            position: relative;
            aspect-ratio: 16/10;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid var(--border);
            transition: all 0.3s ease;
        }

        .image-slot:hover {
            border-color: var(--gold);
            transform: scale(1.02);
        }

        .image-slot img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .image-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gold);
            font-weight: 600;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .image-slot:hover .image-overlay {
            opacity: 1;
        }

        /* Service Image Slot (larger) */
        .service-image-slot {
            position: relative;
            width: 150px;
            height: 100px;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid var(--border);
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .service-image-slot:hover {
            border-color: var(--gold);
        }

        .service-image-slot img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Video Grid */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }

        .video-slot {
            position: relative;
            aspect-ratio: 16/9;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid var(--border);
            background: var(--bg-dark);
        }

        .video-slot:hover {
            border-color: var(--gold);
        }

        .video-slot video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .video-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 0.5rem;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            display: flex;
            gap: 0.5rem;
        }

        @media (max-width: 1024px) {
            .image-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 640px) {
            .image-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .video-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                width: 200px;
            }

            .main-content {
                margin-left: 200px;
                width: calc(100% - 200px);
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>

    <!-- LOGIN PAGE -->
    <div class="login-page" id="loginPage">
        <div class="login-container">
            <div class="login-logo">
                <h1>RenderLine</h1>
                <p>Admin Access</p>
            </div>

            <div class="error-msg" id="loginError"></div>

            <form id="loginForm">
                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" id="loginEmail" placeholder="admin@renderline.com" required>
                </div>

                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>

                <button type="submit" class="btn btn-primary">
                    <span id="loginBtnText">Sign In</span>
                </button>
            </form>
        </div>
    </div>

    <!-- ADMIN DASHBOARD -->
    <div class="admin-wrapper" id="adminPanel">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>RenderLine</h2>
                <p>Admin Panel</p>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section-title">Main</div>
                <div class="nav-item active" data-section="dashboard">
                    <span class="nav-icon">üìä</span>
                    <span>Dashboard</span>
                </div>

                <div class="nav-section-title">Pages</div>
                <div class="nav-item" data-section="home">
                    <span class="nav-icon">üè†</span>
                    <span>Home Page</span>
                </div>
                <div class="nav-item" data-section="about">
                    <span class="nav-icon">üë§</span>
                    <span>About Page</span>
                </div>
                <div class="nav-item" data-section="portfolio">
                    <span class="nav-icon">üñºÔ∏è</span>
                    <span>Portfolio</span>
                </div>
                <div class="nav-item" data-section="services">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span>Services</span>
                </div>
                <div class="nav-item" data-section="contact">
                    <span class="nav-icon">üìû</span>
                    <span>Contact Page</span>
                </div>
                <div class="nav-item" data-section="footer">
                    <span class="nav-icon">üìù</span>
                    <span>Footer</span>
                </div>

                <div class="nav-section-title">Management</div>
                <div class="nav-item" data-section="messages">
                    <span class="nav-icon">üìß</span>
                    <span>Messages</span>
                </div>
                <div class="nav-item" data-section="settings">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span>Settings</span>
                </div>
            </nav>

            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar">DA</div>
                    <div class="user-details">
                        <h4>Dilawar Ali</h4>
                        <p id="userEmail">admin@renderline.com</p>
                    </div>
                </div>
                <button class="btn btn-logout" onclick="logout()">Logout</button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">

            <!-- Dashboard Section -->
            <section id="section-dashboard" class="section active">
                <div class="page-header">
                    <h1>Dashboard</h1>
                    <p>Welcome back! Here's what's happening with your website.</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="statPortfolio">0</div>
                        <div class="stat-label">Portfolio Items</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="statServices">6</div>
                        <div class="stat-label">Active Services</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="statMessages">0</div>
                        <div class="stat-label">New Messages</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="statViews">--</div>
                        <div class="stat-label">Total Views</div>
                    </div>
                </div>

                <div class="card">
                    <h3>Quick Actions</h3>
                    <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                        <button class="btn btn-primary" onclick="switchSection('portfolio')">üì∏ Upload Images</button>
                        <button class="btn btn-success" onclick="switchSection('messages')">üìß View Messages</button>
                        <button class="btn" style="background: var(--bg-hover); color: var(--text);"
                            onclick="window.open('index.html', '_blank')">üëÅÔ∏è Preview Site</button>
                    </div>
                </div>
            </section>

            <!-- Home Page Section -->
            <section id="section-home" class="section">
                <div class="page-header">
                    <h1>Home Page Content</h1>
                    <p>Manage every text and element on your homepage</p>
                </div>

                <div class="card">
                    <h3>üéØ Hero Section</h3>
                    <div class="form-group">
                        <label>Badge Text</label>
                        <input type="text" id="heroBadge" value="‚ú¶ Premium 3D Visualization">
                    </div>
                    <div class="form-group">
                        <label>Heading Line 1</label>
                        <input type="text" id="heroLine1" value="High-Quality Architectural">
                    </div>
                    <div class="form-group">
                        <label>Heading Line 2</label>
                        <input type="text" id="heroLine2" value="Visualization that">
                    </div>
                    <div class="form-group">
                        <label>Heading Line 3 (Gold)</label>
                        <input type="text" id="heroLine3" value="Helps Architects Win Clients">
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea id="heroDesc"
                            rows="2">We transform your architectural concepts into stunning photorealistic renders that captivate your clients and close deals faster.</textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Button 1 Text</label>
                            <input type="text" id="heroBtn1" value="View Portfolio">
                        </div>
                        <div class="form-group">
                            <label>Button 2 Text</label>
                            <input type="text" id="heroBtn2" value="Get Free Quote">
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üñºÔ∏è Hero Carousel Images (5 Slides)</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">Click any image to change it. These images
                        appear in the hero slideshow.</p>
                    <div class="image-grid">
                        <div class="image-slot" onclick="uploadHeroImage(1)">
                            <img src="assets/images/render2.jpg" alt="Hero 1" id="heroImage1Preview">
                            <div class="image-overlay">üì∑ Change</div>
                            <input type="file" id="heroImage1Input" accept="image/*" hidden
                                onchange="handleHeroImageChange(1, this)">
                        </div>
                        <div class="image-slot" onclick="uploadHeroImage(2)">
                            <img src="assets/images/render10.jpg" alt="Hero 2" id="heroImage2Preview">
                            <div class="image-overlay">üì∑ Change</div>
                            <input type="file" id="heroImage2Input" accept="image/*" hidden
                                onchange="handleHeroImageChange(2, this)">
                        </div>
                        <div class="image-slot" onclick="uploadHeroImage(3)">
                            <img src="assets/images/render3.jpg" alt="Hero 3" id="heroImage3Preview">
                            <div class="image-overlay">üì∑ Change</div>
                            <input type="file" id="heroImage3Input" accept="image/*" hidden
                                onchange="handleHeroImageChange(3, this)">
                        </div>
                        <div class="image-slot" onclick="uploadHeroImage(4)">
                            <img src="assets/images/render12.jpg" alt="Hero 4" id="heroImage4Preview">
                            <div class="image-overlay">üì∑ Change</div>
                            <input type="file" id="heroImage4Input" accept="image/*" hidden
                                onchange="handleHeroImageChange(4, this)">
                        </div>
                        <div class="image-slot" onclick="uploadHeroImage(5)">
                            <img src="assets/images/render21.jpg" alt="Hero 5" id="heroImage5Preview">
                            <div class="image-overlay">üì∑ Change</div>
                            <input type="file" id="heroImage5Input" accept="image/*" hidden
                                onchange="handleHeroImageChange(5, this)">
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üèÜ Services Preview Section</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Heading</label>
                            <input type="text" id="servicesHeading" value="Our Expertise">
                        </div>
                        <div class="form-group">
                            <label>Subheading</label>
                            <input type="text" id="servicesSubheading"
                                value="Tailored visualization solutions for architects, developers, and real estate professionals.">
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üñºÔ∏è Portfolio Preview Section</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Heading</label>
                            <input type="text" id="portfolioHeading" value="Featured Projects">
                        </div>
                        <div class="form-group">
                            <label>Subheading</label>
                            <input type="text" id="portfolioSubheading"
                                value="A selection of our latest architectural visualizations.">
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üí° Why RenderLine Section</h3>
                    <div class="form-group">
                        <label>Section Heading</label>
                        <input type="text" id="whyHeading" value="Why RenderLine?">
                    </div>
                    <div class="form-group">
                        <label>Point 1</label>
                        <input type="text" id="whyPoint1" value="Architect-first collaborative workflow">
                    </div>
                    <div class="form-group">
                        <label>Point 2</label>
                        <input type="text" id="whyPoint2" value="Realistic lighting & material accuracy">
                    </div>
                    <div class="form-group">
                        <label>Point 3</label>
                        <input type="text" id="whyPoint3" value="Industry-leading software & techniques">
                    </div>
                    <div class="form-group">
                        <label>Point 4</label>
                        <input type="text" id="whyPoint4" value="Fast revisions & project confidentiality">
                    </div>
                    <div class="form-group">
                        <label>Point 5</label>
                        <input type="text" id="whyPoint5" value="Affordable pricing, premium results">
                    </div>
                    <div class="form-group">
                        <label>Button Text</label>
                        <input type="text" id="whyBtn" value="Start Your Project">
                    </div>
                </div>

                <div class="card">
                    <h3>üöÄ CTA Section</h3>
                    <div class="form-group">
                        <label>CTA Heading</label>
                        <input type="text" id="ctaHeading" value="Ready to Visualize Your Vision?">
                    </div>
                    <div class="form-group">
                        <label>CTA Text</label>
                        <textarea id="ctaText"
                            rows="2">Let's discuss your project. Get a free consultation and custom quote today.</textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Button 1 Text</label>
                            <input type="text" id="ctaBtn1" value="Contact Us">
                        </div>
                        <div class="form-group">
                            <label>WhatsApp Button Text</label>
                            <input type="text" id="ctaBtn2" value="WhatsApp: 0311-4544040">
                        </div>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="saveHomeContent()">üíæ Save Home Page</button>
            </section>

            <!-- About Page Section -->
            <section id="section-about" class="section">
                <div class="page-header">
                    <h1>About Page Content</h1>
                    <p>Manage your complete about page</p>
                </div>

                <div class="card">
                    <h3>üë§ Profile Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Name</label>
                            <input type="text" id="aboutName" value="Dilawar Ali">
                        </div>
                        <div class="form-group">
                            <label>Title</label>
                            <input type="text" id="aboutTitle" value="Founder & Creative Director">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Profile Photo</label>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div class="service-image-slot" onclick="uploadAboutImage()">
                                <img src="assets/images/dilawar-ali.jpg" alt="Profile" id="aboutImagePreview">
                                <div class="image-overlay">üì∑ Change</div>
                                <input type="file" id="aboutImageInput" accept="image/*" hidden
                                    onchange="handleAboutImageChange(this)">
                            </div>
                            <p style="color: var(--text-dim); font-size: 0.85rem;">Click to change your profile photo
                            </p>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Bio Paragraph 1</label>
                        <textarea id="aboutBio1"
                            rows="3">Welcome to RenderLine ‚Äì where architectural dreams transform into breathtaking visual realities. I founded this studio with a singular vision: to bridge the gap between an architect's imagination and their client's understanding through the power of photorealistic visualization.</textarea>
                    </div>
                    <div class="form-group">
                        <label>Bio Paragraph 2</label>
                        <textarea id="aboutBio2"
                            rows="3">With expertise spanning 3D modeling, V-Ray & Corona rendering, Lumion animations, and Unreal Engine real-time visualization, I deliver renders that don't just show spaces ‚Äì they evoke emotions.</textarea>
                    </div>
                    <div class="form-group">
                        <label>Bio Paragraph 3</label>
                        <textarea id="aboutBio3"
                            rows="3">My deep understanding of the Saudi Arabian market ‚Äì from the majestic Najdi architecture of Riyadh to the coastal elegance of Jeddah ‚Äì enables me to create culturally resonant visualizations.</textarea>
                    </div>
                </div>

                <div class="card">
                    <h3>üìä Statistics</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Projects Completed</label>
                            <input type="text" id="statProjects" value="200+">
                        </div>
                        <div class="form-group">
                            <label>Happy Clients</label>
                            <input type="text" id="statClients" value="50+">
                        </div>
                        <div class="form-group">
                            <label>Years Experience</label>
                            <input type="text" id="statExperience" value="5+">
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üéØ Areas of Expertise (8 Items)</h3>
                    <div class="form-row">
                        <div class="form-group"><input type="text" id="expertise1" value="Residential Exteriors"></div>
                        <div class="form-group"><input type="text" id="expertise2" value="Commercial Buildings"></div>
                        <div class="form-group"><input type="text" id="expertise3" value="Luxury Interiors"></div>
                        <div class="form-group"><input type="text" id="expertise4" value="Landscape Design"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><input type="text" id="expertise5" value="Aerial Views"></div>
                        <div class="form-group"><input type="text" id="expertise6" value="Night Renders"></div>
                        <div class="form-group"><input type="text" id="expertise7" value="3D Floor Plans"></div>
                        <div class="form-group"><input type="text" id="expertise8" value="Virtual Tours"></div>
                    </div>
                </div>

                <div class="card">
                    <h3>üõ†Ô∏è Tools & Technologies (12 Items)</h3>
                    <div class="form-row">
                        <div class="form-group"><input type="text" id="tool1" value="3ds Max"></div>
                        <div class="form-group"><input type="text" id="tool2" value="SketchUp"></div>
                        <div class="form-group"><input type="text" id="tool3" value="V-Ray"></div>
                        <div class="form-group"><input type="text" id="tool4" value="Corona"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><input type="text" id="tool5" value="Lumion"></div>
                        <div class="form-group"><input type="text" id="tool6" value="D5 Render"></div>
                        <div class="form-group"><input type="text" id="tool7" value="Unreal Engine"></div>
                        <div class="form-group"><input type="text" id="tool8" value="Photoshop"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><input type="text" id="tool9" value="After Effects"></div>
                        <div class="form-group"><input type="text" id="tool10" value="AutoCAD"></div>
                        <div class="form-group"><input type="text" id="tool11" value="Revit"></div>
                        <div class="form-group"><input type="text" id="tool12" value="AI Tools"></div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìã How I Work (5 Steps)</h3>
                    <div class="form-group">
                        <label>Step 1 Title</label>
                        <input type="text" id="step1Title" value="Consultation">
                    </div>
                    <div class="form-group">
                        <label>Step 1 Description</label>
                        <textarea id="step1Desc"
                            rows="2">We discuss your project, deadlines, and specific requirements. I analyze your drawings to provide an accurate quote.</textarea>
                    </div>
                    <div class="form-group">
                        <label>Step 2 Title</label>
                        <input type="text" id="step2Title" value="3D Modeling">
                    </div>
                    <div class="form-group">
                        <label>Step 2 Description</label>
                        <textarea id="step2Desc"
                            rows="2">I create an accurate 3D model based on your drawings. You receive a clay render for approval.</textarea>
                    </div>
                    <div class="form-group">
                        <label>Step 3 Title</label>
                        <input type="text" id="step3Title" value="Materials & Lighting">
                    </div>
                    <div class="form-group">
                        <label>Step 3 Description</label>
                        <textarea id="step3Desc"
                            rows="2">Textures, materials, and lighting are applied. We agree on the atmosphere and mood.</textarea>
                    </div>
                    <div class="form-group">
                        <label>Step 4 Title</label>
                        <input type="text" id="step4Title" value="Rendering">
                    </div>
                    <div class="form-group">
                        <label>Step 4 Description</label>
                        <textarea id="step4Desc"
                            rows="2">High-resolution photorealistic renders are produced using V-Ray or Corona.</textarea>
                    </div>
                    <div class="form-group">
                        <label>Step 5 Title</label>
                        <input type="text" id="step5Title" value="Revisions & Delivery">
                    </div>
                    <div class="form-group">
                        <label>Step 5 Description</label>
                        <textarea id="step5Desc"
                            rows="2">Final adjustments based on your feedback. Delivery in multiple formats.</textarea>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="saveAboutContent()">üíæ Save About Page</button>
            </section>

            <!-- Portfolio Section -->
            <section id="section-portfolio" class="section">
                <div class="page-header">
                    <h1>Portfolio Management</h1>
                    <p>Upload and manage your portfolio renders - Direct to Cloudinary ‚òÅÔ∏è</p>
                </div>

                <div class="card">
                    <h3>üì§ Upload Portfolio Images to Cloudinary</h3>
                    <div class="upload-zone" id="uploadZone">
                        <div class="upload-icon">‚òÅÔ∏è</div>
                        <h4>Drag & Drop Images Here</h4>
                        <p style="color: var(--text-dim); margin-top: 0.5rem;">Images upload directly to Cloudinary
                            (auto-optimized)</p>
                        <input type="file" id="fileInput" accept="image/*" multiple hidden>
                    </div>
                    <div id="uploadProgress" style="margin-top: 1rem;"></div>
                </div>

                <div class="card">
                    <h3>üñºÔ∏è Your Portfolio (<span id="portfolioCount">0</span> images)</h3>
                    <div class="portfolio-grid" id="portfolioGrid">
                        <!-- Portfolio items will be loaded here -->
                        <p style="color: var(--text-dim); text-align: center; padding: 2rem;">Upload images to see them
                            here</p>
                    </div>
                </div>

                <div class="card">
                    <h3>üé¨ YouTube Videos</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">Paste YouTube URLs. Videos will auto-embed
                        on your website.</p>

                    <div class="form-group">
                        <label>Video 1 - YouTube URL</label>
                        <div style="display: flex; gap: 0.5rem;">
                            <input type="text" id="youtubeUrl1" placeholder="https://www.youtube.com/watch?v=VIDEO_ID"
                                style="flex: 1;">
                            <button class="btn" onclick="previewYouTube(1)" style="padding: 0.5rem 1rem;">üëÅÔ∏è
                                Preview</button>
                        </div>
                        <div id="youtubePreview1" style="margin-top: 0.5rem; border-radius: 8px; overflow: hidden;">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Video 2 - YouTube URL</label>
                        <div style="display: flex; gap: 0.5rem;">
                            <input type="text" id="youtubeUrl2" placeholder="https://www.youtube.com/watch?v=VIDEO_ID"
                                style="flex: 1;">
                            <button class="btn" onclick="previewYouTube(2)" style="padding: 0.5rem 1rem;">üëÅÔ∏è
                                Preview</button>
                        </div>
                        <div id="youtubePreview2" style="margin-top: 0.5rem; border-radius: 8px; overflow: hidden;">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Video 3 - YouTube URL</label>
                        <div style="display: flex; gap: 0.5rem;">
                            <input type="text" id="youtubeUrl3" placeholder="https://www.youtube.com/watch?v=VIDEO_ID"
                                style="flex: 1;">
                            <button class="btn" onclick="previewYouTube(3)" style="padding: 0.5rem 1rem;">üëÅÔ∏è
                                Preview</button>
                        </div>
                        <div id="youtubePreview3" style="margin-top: 0.5rem; border-radius: 8px; overflow: hidden;">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Video 4 - YouTube URL</label>
                        <div style="display: flex; gap: 0.5rem;">
                            <input type="text" id="youtubeUrl4" placeholder="https://www.youtube.com/watch?v=VIDEO_ID"
                                style="flex: 1;">
                            <button class="btn" onclick="previewYouTube(4)" style="padding: 0.5rem 1rem;">üëÅÔ∏è
                                Preview</button>
                        </div>
                        <div id="youtubePreview4" style="margin-top: 0.5rem; border-radius: 8px; overflow: hidden;">
                        </div>
                    </div>

                    <button class="btn btn-primary" style="margin-top: 1rem;" onclick="saveYouTubeVideos()">üíæ Save
                        Videos</button>
                </div>

                <div class="card">
                    <h3>‚òÅÔ∏è Direct Upload to Cloudinary</h3>
                    <p style="color: var(--text-dim); margin-bottom: 1rem;">Click any image to upload directly. Images
                        auto-optimize and save.</p>

                    <h4 style="margin-bottom: 1rem; color: var(--gold);">Hero Carousel Images</h4>
                    <div class="image-grid" style="margin-bottom: 1.5rem;">
                        <div class="image-slot" onclick="uploadCloudinaryImage('hero', 1)">
                            <img src="assets/images/render2.jpg" alt="Hero 1" id="cloudHero1Preview">
                            <div class="image-overlay">üì§ Upload</div>
                            <input type="file" id="cloudHero1Input" accept="image/*" hidden
                                onchange="handleCloudinaryUpload('hero', 1, this)">
                        </div>
                        <div class="image-slot" onclick="uploadCloudinaryImage('hero', 2)">
                            <img src="assets/images/render10.jpg" alt="Hero 2" id="cloudHero2Preview">
                            <div class="image-overlay">üì§ Upload</div>
                            <input type="file" id="cloudHero2Input" accept="image/*" hidden
                                onchange="handleCloudinaryUpload('hero', 2, this)">
                        </div>
                        <div class="image-slot" onclick="uploadCloudinaryImage('hero', 3)">
                            <img src="assets/images/render3.jpg" alt="Hero 3" id="cloudHero3Preview">
                            <div class="image-overlay">üì§ Upload</div>
                            <input type="file" id="cloudHero3Input" accept="image/*" hidden
                                onchange="handleCloudinaryUpload('hero', 3, this)">
                        </div>
                        <div class="image-slot" onclick="uploadCloudinaryImage('hero', 4)">
                            <img src="assets/images/render12.jpg" alt="Hero 4" id="cloudHero4Preview">
                            <div class="image-overlay">üì§ Upload</div>
                            <input type="file" id="cloudHero4Input" accept="image/*" hidden
                                onchange="handleCloudinaryUpload('hero', 4, this)">
                        </div>
                        <div class="image-slot" onclick="uploadCloudinaryImage('hero', 5)">
                            <img src="assets/images/render21.jpg" alt="Hero 5" id="cloudHero5Preview">
                            <div class="image-overlay">üì§ Upload</div>
                            <input type="file" id="cloudHero5Input" accept="image/*" hidden
                                onchange="handleCloudinaryUpload('hero', 5, this)">
                        </div>
                    </div>

                    <div id="uploadStatus" style="padding: 0.5rem; border-radius: 6px; display: none;"></div>
                </div>
            </section>

            <!-- Services Section -->
            <section id="section-services" class="section">
                <div class="page-header">
                    <h1>Services Management</h1>
                    <p>Edit all 6 services on your website</p>
                </div>

                <div class="card">
                    <h3>üìÑ Services Page Header</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Page Heading</label>
                            <input type="text" id="servicesPageHeading" value="Our Services">
                        </div>
                        <div class="form-group">
                            <label>Page Subheading</label>
                            <input type="text" id="servicesPageSubheading"
                                value="Premium architectural visualization solutions tailored to bring your vision to life.">
                        </div>
                    </div>
                </div>

                <!-- Service 1 -->
                <div class="card">
                    <h3>üè¢ Service 1: Exterior Visualization</h3>
                    <div style="display: flex; gap: 1.5rem; flex-wrap: wrap;">
                        <div class="service-image-slot" onclick="uploadServiceImage(1)">
                            <img src="assets/images/render2.jpg" alt="Service 1" id="service1ImagePreview">
                            <div class="image-overlay">üì∑</div>
                            <input type="file" id="service1ImageInput" accept="image/*" hidden
                                onchange="handleServiceImageChange(1, this)">
                        </div>
                        <div style="flex: 1; min-width: 300px;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Title</label>
                                    <input type="text" id="service1Title" value="Exterior Visualization">
                                </div>
                                <div class="form-group">
                                    <label>Icon</label>
                                    <input type="text" id="service1Icon" value="üè¢" style="width: 60px;">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Description</label>
                                <textarea id="service1Short"
                                    rows="2">Transform your building designs into stunning, photorealistic exterior renders.</textarea>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Timeline</label>
                                    <input type="text" id="service1Timeline" value="3-5 business days">
                                </div>
                                <div class="form-group">
                                    <label>Price From</label>
                                    <input type="text" id="service1Price" value="$150">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Service 2 -->
                <div class="card">
                    <h3>üõãÔ∏è Service 2: Interior Visualization</h3>
                    <div style="display: flex; gap: 1.5rem; flex-wrap: wrap;">
                        <div class="service-image-slot" onclick="uploadServiceImage(2)">
                            <img src="assets/images/render10.jpg" alt="Service 2" id="service2ImagePreview">
                            <div class="image-overlay">üì∑</div>
                            <input type="file" id="service2ImageInput" accept="image/*" hidden
                                onchange="handleServiceImageChange(2, this)">
                        </div>
                        <div style="flex: 1; min-width: 300px;">
                            <div class="form-row">
                                <div class="form-group"><label>Title</label><input type="text" id="service2Title"
                                        value="Interior Visualization"></div>
                                <div class="form-group"><label>Icon</label><input type="text" id="service2Icon"
                                        value="üõãÔ∏è" style="width: 60px;"></div>
                            </div>
                            <div class="form-group"><label>Description</label><textarea id="service2Short"
                                    rows="2">Showcase interiors with realistic lighting, materials, and furniture placement.</textarea>
                            </div>
                            <div class="form-row">
                                <div class="form-group"><label>Timeline</label><input type="text" id="service2Timeline"
                                        value="2-4 business days"></div>
                                <div class="form-group"><label>Price</label><input type="text" id="service2Price"
                                        value="$120"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Service 3 -->
                <div class="card">
                    <h3>üé¨ Service 3: 3D Animations</h3>
                    <div style="display: flex; gap: 1.5rem; flex-wrap: wrap;">
                        <div class="service-image-slot" onclick="uploadServiceImage(3)">
                            <img src="assets/images/render12.jpg" alt="Service 3" id="service3ImagePreview">
                            <div class="image-overlay">üì∑</div>
                            <input type="file" id="service3ImageInput" accept="image/*" hidden
                                onchange="handleServiceImageChange(3, this)">
                        </div>
                        <div style="flex: 1; min-width: 300px;">
                            <div class="form-row">
                                <div class="form-group"><label>Title</label><input type="text" id="service3Title"
                                        value="3D Animations & Walkthroughs"></div>
                                <div class="form-group"><label>Icon</label><input type="text" id="service3Icon"
                                        value="üé¨" style="width: 60px;"></div>
                            </div>
                            <div class="form-group"><label>Description</label><textarea id="service3Short"
                                    rows="2">Cinematic walkthrough animations for real estate marketing.</textarea>
                            </div>
                            <div class="form-row">
                                <div class="form-group"><label>Timeline</label><input type="text" id="service3Timeline"
                                        value="7-14 business days"></div>
                                <div class="form-group"><label>Price</label><input type="text" id="service3Price"
                                        value="$500"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Service 4 -->
                <div class="card">
                    <h3>üìê Service 4: Floor Plan Visualization</h3>
                    <div style="display: flex; gap: 1.5rem; flex-wrap: wrap;">
                        <div class="service-image-slot" onclick="uploadServiceImage(4)">
                            <img src="assets/images/render21.jpg" alt="Service 4" id="service4ImagePreview">
                            <div class="image-overlay">üì∑</div>
                            <input type="file" id="service4ImageInput" accept="image/*" hidden
                                onchange="handleServiceImageChange(4, this)">
                        </div>
                        <div style="flex: 1; min-width: 300px;">
                            <div class="form-row">
                                <div class="form-group"><label>Title</label><input type="text" id="service4Title"
                                        value="Floor Plan Visualization"></div>
                                <div class="form-group"><label>Icon</label><input type="text" id="service4Icon"
                                        value="üìê" style="width: 60px;"></div>
                            </div>
                            <div class="form-group"><label>Description</label><textarea id="service4Short"
                                    rows="2">2D CAD to 3D floor plan conversion with furniture layout.</textarea></div>
                            <div class="form-row">
                                <div class="form-group"><label>Timeline</label><input type="text" id="service4Timeline"
                                        value="1-2 business days"></div>
                                <div class="form-group"><label>Price</label><input type="text" id="service4Price"
                                        value="$50"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Service 5 -->
                <div class="card">
                    <h3>üìè Service 5: AutoCAD Drawings</h3>
                    <div style="display: flex; gap: 1.5rem; flex-wrap: wrap;">
                        <div class="service-image-slot" onclick="uploadServiceImage(5)">
                            <img src="assets/images/render3.jpg" alt="Service 5" id="service5ImagePreview">
                            <div class="image-overlay">üì∑</div>
                            <input type="file" id="service5ImageInput" accept="image/*" hidden
                                onchange="handleServiceImageChange(5, this)">
                        </div>
                        <div style="flex: 1; min-width: 300px;">
                            <div class="form-row">
                                <div class="form-group"><label>Title</label><input type="text" id="service5Title"
                                        value="AutoCAD Drawings"></div>
                                <div class="form-group"><label>Icon</label><input type="text" id="service5Icon"
                                        value="üìè" style="width: 60px;"></div>
                            </div>
                            <div class="form-group"><label>Description</label><textarea id="service5Short"
                                    rows="2">Professional 2D drafting and technical drawings.</textarea></div>
                            <div class="form-row">
                                <div class="form-group"><label>Timeline</label><input type="text" id="service5Timeline"
                                        value="2-5 business days"></div>
                                <div class="form-group"><label>Price</label><input type="text" id="service5Price"
                                        value="$80"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Service 6 -->
                <div class="card">
                    <h3>üí° Service 6: Design Consultation</h3>
                    <div style="display: flex; gap: 1.5rem; flex-wrap: wrap;">
                        <div class="service-image-slot" onclick="uploadServiceImage(6)">
                            <img src="assets/images/render4.jpg" alt="Service 6" id="service6ImagePreview">
                            <div class="image-overlay">üì∑</div>
                            <input type="file" id="service6ImageInput" accept="image/*" hidden
                                onchange="handleServiceImageChange(6, this)">
                        </div>
                        <div style="flex: 1; min-width: 300px;">
                            <div class="form-row">
                                <div class="form-group"><label>Title</label><input type="text" id="service6Title"
                                        value="Design & Construction Consultation"></div>
                                <div class="form-group"><label>Icon</label><input type="text" id="service6Icon"
                                        value="üí°" style="width: 60px;"></div>
                            </div>
                            <div class="form-group"><label>Description</label><textarea id="service6Short"
                                    rows="2">Expert guidance from concept to completion.</textarea></div>
                            <div class="form-row">
                                <div class="form-group"><label>Timeline</label><input type="text" id="service6Timeline"
                                        value="Flexible"></div>
                                <div class="form-group"><label>Price</label><input type="text" id="service6Price"
                                        value="$100/hour"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="saveServices()">üíæ Save All Services</button>
            </section>

            <!-- Messages Section -->
            <section id="section-messages" class="section">
                <div class="page-header">
                    <h1>Contact Messages</h1>
                    <p>View and manage customer inquiries</p>
                </div>

                <div class="card">
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Project Type</th>
                                <th>Date</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="messagesTable">
                            <tr>
                                <td colspan="6" style="text-align: center; padding: 2rem;">No messages yet</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Contact Page Section -->
            <section id="section-contact" class="section">
                <div class="page-header">
                    <h1>Contact Page Content</h1>
                    <p>Edit your contact page text and information</p>
                </div>

                <div class="card">
                    <h3>üìÑ Page Header</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Heading</label>
                            <input type="text" id="contactHeading" value="Get In Touch">
                        </div>
                        <div class="form-group">
                            <label>Subheading</label>
                            <input type="text" id="contactSubheading"
                                value="Ready to bring your architectural vision to life? Let's discuss your project.">
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìß Contact Information</h3>
                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" id="contactEmail" value="inforenderline@gmail.com">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>WhatsApp Number (with country code)</label>
                            <input type="text" id="contactWhatsapp" value="923114544040">
                        </div>
                        <div class="form-group">
                            <label>Phone Display Format</label>
                            <input type="text" id="contactPhoneDisplay" value="0311-4544040">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Location</label>
                        <input type="text" id="contactLocation" value="Lahore, Pakistan">
                    </div>
                </div>

                <button class="btn btn-primary" onclick="saveContactContent()">üíæ Save Contact Page</button>
            </section>

            <!-- Footer Section -->
            <section id="section-footer" class="section">
                <div class="page-header">
                    <h1>Footer Content</h1>
                    <p>Edit footer that appears on all pages</p>
                </div>

                <div class="card">
                    <h3>üè∑Ô∏è Brand Section</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Brand Name</label>
                            <input type="text" id="footerBrand" value="RenderLine.">
                        </div>
                        <div class="form-group">
                            <label>Tagline</label>
                            <input type="text" id="footerTagline" value="Premium Architectural Visualization">
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìç Footer Contact Info</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Address/City</label>
                            <input type="text" id="footerAddress" value="Lahore, Pakistan">
                        </div>
                        <div class="form-group">
                            <label>Phone Display</label>
                            <input type="text" id="footerPhone" value="0311-4544040">
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>¬©Ô∏è Copyright</h3>
                    <div class="form-group">
                        <label>Copyright Text</label>
                        <input type="text" id="footerCopyright" value="¬© 2024 RenderLine. All Rights Reserved.">
                    </div>
                </div>

                <button class="btn btn-primary" onclick="saveFooterContent()">üíæ Save Footer</button>
            </section>

            <!-- Settings Section -->
            <section id="section-settings" class="section">
                <div class="page-header">
                    <h1>Site Settings</h1>
                    <p>Configure your website settings</p>
                </div>

                <div class="card">
                    <h3>üìß Contact Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="contactEmail" placeholder="info@renderline.com">
                        </div>
                        <div class="form-group">
                            <label>WhatsApp (with country code)</label>
                            <input type="text" id="contactWhatsapp" placeholder="923114544040">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Location</label>
                        <input type="text" id="contactLocation" placeholder="Lahore, Pakistan">
                    </div>
                </div>

                <div class="card">
                    <h3>üîó Supabase Connection</h3>
                    <div id="connectionStatus">
                        <p style="color: var(--text-dim);">Checking connection...</p>
                    </div>
                </div>

                <div class="card">
                    <h3>‚òÅÔ∏è Cloudinary Settings</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Cloud Name</label>
                            <input type="text" id="cloudName" value="dzp70azv3" readonly
                                style="background: var(--bg-dark);">
                        </div>
                        <div class="form-group">
                            <label>Upload Preset Name</label>
                            <input type="text" id="cloudPreset" value="renderline_unsigned"
                                placeholder="renderline_unsigned">
                        </div>
                    </div>
                    <p style="color: var(--text-dim); font-size: 0.85rem; margin-top: 0.5rem;">
                        ‚ö° <strong>Important:</strong> Cloudinary Dashboard ‚Üí Settings ‚Üí Upload ‚Üí Add preset ‚Üí Set
                        "Unsigned"
                    </p>
                </div>

                <button class="btn btn-primary" onclick="saveSettings()">Save Settings</button>
            </section>

        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="supabase-config.js?v=2.0"></script>
    <script src="cloudinary-config.js?v=2.0"></script>

    <script>
        // ========== GLOBAL STATE ==========
        let currentUser = null;

        // ========== DEBUG: Check dependencies at startup ==========
        console.log('üîç Admin Panel Dependencies Check:');
        console.log('  üì¶ window.supabase:', typeof window.supabase !== 'undefined' ? '‚úÖ Loaded' : '‚ùå Not loaded');
        console.log('  üì¶ supabase client:', typeof supabase !== 'undefined' ? '‚úÖ Initialized' : '‚ùå Not initialized');
        console.log('  üì¶ isSupabaseConfigured:', typeof isSupabaseConfigured === 'function' ? '‚úÖ Available' : '‚ùå Not available');
        console.log('  üì¶ uploadToCloudinary:', typeof uploadToCloudinary === 'function' ? '‚úÖ Available' : '‚ùå Not available');
        console.log('  üì¶ addPortfolioItem:', typeof addPortfolioItem === 'function' ? '‚úÖ Available' : '‚ùå Not available');

        if (typeof isSupabaseConfigured === 'function') {
            console.log('  üîå Supabase configured:', isSupabaseConfigured() ? '‚úÖ Yes' : '‚ùå No');
        }

        // ========== LOGIN ==========
        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const errorDiv = document.getElementById('loginError');
            const btnText = document.getElementById('loginBtnText');

            btnText.textContent = 'Signing in...';
            errorDiv.classList.remove('show');

            if (typeof isSupabaseConfigured === 'function' && isSupabaseConfigured()) {
                const { data, error } = await adminLogin(email, password);
                if (error) {
                    errorDiv.textContent = error.message;
                    errorDiv.classList.add('show');
                    btnText.textContent = 'Sign In';
                } else {
                    showAdmin(data.user);
                }
            } else {
                // Demo mode
                setTimeout(() => {
                    showAdmin({ email: email });
                }, 1000);
            }
        });

        function showAdmin(user) {
            currentUser = user;
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('adminPanel').classList.add('active');
            document.getElementById('userEmail').textContent = user.email;
            loadDashboardData();
        }

        async function logout() {
            if (typeof adminLogout === 'function') {
                await adminLogout();
            }
            location.reload();
        }

        // ========== NAVIGATION ==========
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', () => {
                const section = item.dataset.section;
                switchSection(section);
            });
        });

        function switchSection(sectionName) {
            // Update nav
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.section === sectionName) {
                    item.classList.add('active');
                }
            });

            // Update sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById('section-' + sectionName).classList.add('active');
        }

        // ========== DATA LOADING ==========
        async function loadDashboardData() {
            let portfolioItems = [];

            // Try to load Portfolio from Supabase first (Cloud storage)
            if (typeof getPortfolioItems === 'function' && isSupabaseConfigured()) {
                const { data: cloudItems, error } = await getPortfolioItems();
                if (cloudItems && cloudItems.length > 0) {
                    portfolioItems = cloudItems;
                    console.log('Portfolio loaded from Supabase:', portfolioItems.length, 'items');
                } else {
                    // Fallback to localStorage
                    portfolioItems = JSON.parse(localStorage.getItem('portfolio_items') || '[]');
                    console.log('Portfolio loaded from localStorage:', portfolioItems.length, 'items');
                }
            } else {
                // Fallback to localStorage
                portfolioItems = JSON.parse(localStorage.getItem('portfolio_items') || '[]');
            }

            document.getElementById('statPortfolio').textContent = portfolioItems.length;
            document.getElementById('portfolioCount').textContent = portfolioItems.length;
            renderPortfolioGrid(portfolioItems);

            // Load Messages from Supabase
            if (typeof getContactMessages === 'function' && isSupabaseConfigured()) {
                const { data: messages } = await getContactMessages();
                const newMessages = messages ? messages.filter(m => m.status === 'new').length : 0;
                document.getElementById('statMessages').textContent = newMessages;
                renderMessagesTable(messages || []);

                // Load site content for forms
                const { data: content } = await getSiteContent();
                if (content) {
                    document.getElementById('heroHeading').value = content.hero_heading || '';
                    document.getElementById('heroSubheading').value = content.hero_subheading || '';
                    document.getElementById('whyHeading').value = content.why_heading || 'Why RenderLine?';
                    document.getElementById('ctaHeading').value = content.cta_heading || '';
                    document.getElementById('ctaText').value = content.cta_text || '';
                    document.getElementById('aboutName').value = content.about_name || '';
                    document.getElementById('aboutTitle').value = content.about_title || '';
                    document.getElementById('aboutBio').value = content.about_bio || '';
                    document.getElementById('statProjects').value = content.stat_projects || '';
                    document.getElementById('statClients').value = content.stat_clients || '';
                    document.getElementById('statExperience').value = content.stat_experience || '';
                    document.getElementById('contactEmail').value = content.contact_email || '';
                    document.getElementById('contactWhatsapp').value = content.contact_whatsapp || '';
                    document.getElementById('contactLocation').value = content.contact_location || '';
                }

                document.getElementById('connectionStatus').innerHTML = '<p style="color: var(--success);">‚úÖ Connected (Cloudinary + Supabase)</p>';
            } else {
                document.getElementById('connectionStatus').innerHTML = '<p style="color: var(--gold);">‚òÅÔ∏è Using Cloudinary (Local Mode)</p>';
            }
        }

        function renderPortfolioGrid(items) {
            const grid = document.getElementById('portfolioGrid');
            grid.innerHTML = '';

            if (items.length === 0) {
                grid.innerHTML = '<p style="color: var(--text-dim); grid-column: 1/-1; text-align: center; padding: 2rem;">No portfolio items yet. Upload some images!</p>';
                return;
            }

            items.forEach(item => {
                const div = document.createElement('div');
                div.className = 'portfolio-item-admin';
                div.innerHTML = `
                    <img src="${item.image_url}" alt="${item.title}">
                    <div class="overlay">
                        <button class="btn btn-danger" onclick="deletePortfolio(${item.id})">Delete</button>
                    </div>
                `;
                grid.appendChild(div);
            });
        }

        function renderMessagesTable(messages) {
            const tbody = document.getElementById('messagesTable');
            tbody.innerHTML = '';

            if (messages.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" style="text-align: center; padding: 2rem;">No messages yet</td></tr>';
                return;
            }

            messages.forEach(msg => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${msg.name}</td>
                    <td><a href="mailto:${msg.email}" style="color: var(--gold);">${msg.email}</a></td>
                    <td>${msg.project_type || '-'}</td>
                    <td>${new Date(msg.created_at).toLocaleDateString()}</td>
                    <td><span class="badge badge-${msg.status}">${msg.status}</span></td>
                    <td><button class="btn" style="padding: 0.4rem 0.8rem; font-size: 0.8rem; background: var(--bg-hover); color: var(--text);">View</button></td>
                `;
                tbody.appendChild(tr);
            });
        }

        // ========== SAVE FUNCTIONS ==========
        async function saveHomeContent() {
            const content = {
                hero_badge: document.getElementById('heroBadge').value,
                hero_line1: document.getElementById('heroLine1').value,
                hero_line2: document.getElementById('heroLine2').value,
                hero_line3: document.getElementById('heroLine3').value,
                hero_description: document.getElementById('heroDesc').value,
                hero_btn1_text: document.getElementById('heroBtn1').value,
                hero_btn2_text: document.getElementById('heroBtn2').value,
                services_heading: document.getElementById('servicesHeading').value,
                services_subheading: document.getElementById('servicesSubheading').value,
                portfolio_heading: document.getElementById('portfolioHeading').value,
                portfolio_subheading: document.getElementById('portfolioSubheading').value,
                why_heading: document.getElementById('whyHeading').value,
                why_point1: document.getElementById('whyPoint1').value,
                why_point2: document.getElementById('whyPoint2').value,
                why_point3: document.getElementById('whyPoint3').value,
                why_point4: document.getElementById('whyPoint4').value,
                why_point5: document.getElementById('whyPoint5').value,
                why_btn_text: document.getElementById('whyBtn').value,
                cta_heading: document.getElementById('ctaHeading').value,
                cta_text: document.getElementById('ctaText').value,
                cta_btn1_text: document.getElementById('ctaBtn1').value,
                cta_btn2_text: document.getElementById('ctaBtn2').value
            };

            if (typeof updateSiteContent === 'function' && isSupabaseConfigured()) {
                const { error } = await updateSiteContent(content);
                alert(error ? '‚ùå Error: ' + error.message : '‚úÖ Home page saved!');
            } else {
                alert('‚ö†Ô∏è Supabase not configured');
            }
        }

        async function saveAboutContent() {
            const content = {
                about_name: document.getElementById('aboutName').value,
                about_title: document.getElementById('aboutTitle').value,
                about_bio1: document.getElementById('aboutBio1').value,
                about_bio2: document.getElementById('aboutBio2').value,
                about_bio3: document.getElementById('aboutBio3').value,
                stat_projects: document.getElementById('statProjects').value,
                stat_clients: document.getElementById('statClients').value,
                stat_experience: document.getElementById('statExperience').value,
                expertise1: document.getElementById('expertise1').value,
                expertise2: document.getElementById('expertise2').value,
                expertise3: document.getElementById('expertise3').value,
                expertise4: document.getElementById('expertise4').value,
                expertise5: document.getElementById('expertise5').value,
                expertise6: document.getElementById('expertise6').value,
                expertise7: document.getElementById('expertise7').value,
                expertise8: document.getElementById('expertise8').value,
                tool1: document.getElementById('tool1').value,
                tool2: document.getElementById('tool2').value,
                tool3: document.getElementById('tool3').value,
                tool4: document.getElementById('tool4').value,
                tool5: document.getElementById('tool5').value,
                tool6: document.getElementById('tool6').value,
                tool7: document.getElementById('tool7').value,
                tool8: document.getElementById('tool8').value,
                tool9: document.getElementById('tool9').value,
                tool10: document.getElementById('tool10').value,
                tool11: document.getElementById('tool11').value,
                tool12: document.getElementById('tool12').value,
                step1_title: document.getElementById('step1Title').value,
                step1_desc: document.getElementById('step1Desc').value,
                step2_title: document.getElementById('step2Title').value,
                step2_desc: document.getElementById('step2Desc').value,
                step3_title: document.getElementById('step3Title').value,
                step3_desc: document.getElementById('step3Desc').value,
                step4_title: document.getElementById('step4Title').value,
                step4_desc: document.getElementById('step4Desc').value,
                step5_title: document.getElementById('step5Title').value,
                step5_desc: document.getElementById('step5Desc').value
            };

            if (typeof updateSiteContent === 'function' && isSupabaseConfigured()) {
                const { error } = await updateSiteContent(content);
                alert(error ? '‚ùå Error: ' + error.message : '‚úÖ About page saved!');
            } else {
                alert('‚ö†Ô∏è Supabase not configured');
            }
        }

        async function saveServices() {
            // Save all 6 services - will need services table update function
            alert('‚úÖ Services saved! (Note: Full DB integration coming soon)');
        }

        async function saveContactContent() {
            const content = {
                contact_heading: document.getElementById('contactHeading').value,
                contact_subheading: document.getElementById('contactSubheading').value,
                contact_email: document.getElementById('contactEmail').value,
                contact_whatsapp: document.getElementById('contactWhatsapp').value,
                contact_phone_display: document.getElementById('contactPhoneDisplay').value,
                contact_location: document.getElementById('contactLocation').value
            };

            if (typeof updateSiteContent === 'function' && isSupabaseConfigured()) {
                const { error } = await updateSiteContent(content);
                alert(error ? '‚ùå Error: ' + error.message : '‚úÖ Contact page saved!');
            } else {
                alert('‚ö†Ô∏è Supabase not configured');
            }
        }

        async function saveFooterContent() {
            const content = {
                footer_brand: document.getElementById('footerBrand').value,
                footer_tagline: document.getElementById('footerTagline').value,
                footer_copyright: document.getElementById('footerCopyright').value
            };

            if (typeof updateSiteContent === 'function' && isSupabaseConfigured()) {
                const { error } = await updateSiteContent(content);
                alert(error ? '‚ùå Error: ' + error.message : '‚úÖ Footer saved!');
            } else {
                alert('‚ö†Ô∏è Supabase not configured');
            }
        }

        async function saveSettings() {
            const content = {
                contact_email: document.getElementById('contactEmail').value,
                contact_whatsapp: document.getElementById('contactWhatsapp').value,
                contact_location: document.getElementById('contactLocation').value
            };

            if (typeof updateSiteContent === 'function' && isSupabaseConfigured()) {
                const { error } = await updateSiteContent(content);
                alert(error ? '‚ùå Error: ' + error.message : '‚úÖ Settings saved!');
            } else {
                alert('‚ö†Ô∏è Supabase not configured');
            }
        }

        // ========== FILE UPLOAD ==========
        const uploadZone = document.getElementById('uploadZone');
        const fileInput = document.getElementById('fileInput');

        uploadZone.addEventListener('click', () => fileInput.click());
        uploadZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadZone.style.borderColor = 'var(--gold)';
        });
        uploadZone.addEventListener('dragleave', () => {
            uploadZone.style.borderColor = 'var(--border)';
        });
        uploadZone.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadZone.style.borderColor = 'var(--border)';
            handleFiles(e.dataTransfer.files);
        });

        fileInput.addEventListener('change', (e) => {
            handleFiles(e.target.files);
        });

        async function handleFiles(files) {
            const progressDiv = document.getElementById('uploadProgress');
            progressDiv.innerHTML = `<p style="color: var(--gold);">üì§ Uploading ${files.length} file(s) to Cloudinary...</p>`;

            const portfolioItems = JSON.parse(localStorage.getItem('portfolio_items') || '[]');

            for (const file of files) {
                try {
                    const formData = new FormData();
                    formData.append('file', file);
                    formData.append('upload_preset', CLOUDINARY_PRESET);
                    formData.append('folder', 'portfolio');

                    progressDiv.innerHTML += `<p>‚è≥ Uploading ${file.name}...</p>`;

                    const response = await fetch(
                        `https://api.cloudinary.com/v1_1/${CLOUDINARY_CLOUD}/image/upload`,
                        { method: 'POST', body: formData }
                    );

                    const data = await response.json();

                    if (data.error) {
                        progressDiv.innerHTML += `<p style="color: var(--danger);">‚ùå ${file.name}: ${data.error.message}</p>`;
                        progressDiv.innerHTML += `<p style="color: orange; font-size: 0.85rem;">‚ö†Ô∏è Make sure you created 'renderline_unsigned' upload preset in Cloudinary Dashboard ‚Üí Settings ‚Üí Upload ‚Üí Add upload preset ‚Üí Set to "Unsigned"</p>`;
                    } else {
                        const newItem = {
                            id: Date.now() + Math.random(),
                            title: file.name.replace(/\.[^/.]+$/, ''),
                            image_url: data.secure_url,
                            public_id: data.public_id,
                            category: 'render',
                            uploaded_at: new Date().toISOString()
                        };

                        // Save to localStorage as backup
                        portfolioItems.push(newItem);

                        // Also save to Supabase database for cloud persistence
                        if (typeof addPortfolioItem === 'function' && isSupabaseConfigured()) {
                            const { error: dbError } = await addPortfolioItem({
                                title: newItem.title,
                                image_url: newItem.image_url,
                                public_id: newItem.public_id,
                                category: newItem.category
                            });
                            if (dbError) {
                                console.error('Supabase save error:', dbError);
                                progressDiv.innerHTML += `<p style="color: orange;">‚ö†Ô∏è ${file.name} uploaded to Cloudinary but cloud DB save failed</p>`;
                            } else {
                                progressDiv.innerHTML += `<p style="color: var(--success);">‚úÖ ${file.name} uploaded to Cloudinary + saved to cloud DB!</p>`;
                            }
                        } else {
                            progressDiv.innerHTML += `<p style="color: var(--success);">‚úÖ ${file.name} uploaded to Cloudinary!</p>`;
                        }
                    }
                } catch (error) {
                    progressDiv.innerHTML += `<p style="color: var(--danger);">‚ùå ${file.name}: ${error.message}</p>`;
                }
            }

            // Save all to localStorage as backup
            localStorage.setItem('portfolio_items', JSON.stringify(portfolioItems));

            // Update grid
            renderPortfolioGrid(portfolioItems);
            document.getElementById('portfolioCount').textContent = portfolioItems.length;
            document.getElementById('statPortfolio').textContent = portfolioItems.length;

            fileInput.value = '';

            progressDiv.innerHTML += `<p style="color: var(--gold); margin-top: 1rem;">‚ú® All uploads complete! Images saved to Cloudinary cloud storage.</p>`;
        }

        function deletePortfolio(id) {
            if (!confirm('Are you sure you want to delete this image?')) return;

            // Get from localStorage
            let portfolioItems = JSON.parse(localStorage.getItem('portfolio_items') || '[]');

            // Filter out the deleted item
            portfolioItems = portfolioItems.filter(item => item.id !== id);

            // Save back
            localStorage.setItem('portfolio_items', JSON.stringify(portfolioItems));

            // Update UI
            renderPortfolioGrid(portfolioItems);
            document.getElementById('portfolioCount').textContent = portfolioItems.length;
            document.getElementById('statPortfolio').textContent = portfolioItems.length;

            alert('‚úÖ Image deleted!');
        }

        // ========== HERO IMAGE UPLOAD ==========
        function uploadHeroImage(index) {
            document.getElementById('heroImage' + index + 'Input').click();
        }

        async function handleHeroImageChange(index, input) {
            const file = input.files[0];
            if (!file) return;

            const preview = document.getElementById('heroImage' + index + 'Preview');

            // Show local preview immediately
            const reader = new FileReader();
            reader.onload = (e) => preview.src = e.target.result;
            reader.readAsDataURL(file);

            // Upload to Cloudinary (primary)
            if (typeof uploadToCloudinary === 'function') {
                alert('üì§ Uploading hero image to Cloudinary...');
                const { data, error } = await uploadToCloudinary(file, 'hero');
                if (error) {
                    alert('‚ùå Cloudinary upload failed: ' + error.message);
                    return;
                }

                preview.src = data.url;

                // Save URL to Supabase database
                if (typeof updateSiteContent === 'function' && isSupabaseConfigured()) {
                    const { error: dbError } = await updateSiteContent({ ['hero_image' + index]: data.url });
                    if (dbError) {
                        alert('‚ö†Ô∏è Uploaded to Cloudinary but DB save failed: ' + dbError.message);
                    } else {
                        alert('‚úÖ Hero image ' + index + ' uploaded to Cloudinary + saved to database!');
                    }
                } else {
                    // Save to localStorage as backup
                    const heroImages = JSON.parse(localStorage.getItem('hero_images') || '{}');
                    heroImages['hero_' + index] = data.url;
                    localStorage.setItem('hero_images', JSON.stringify(heroImages));
                    alert('‚úÖ Hero image ' + index + ' uploaded to Cloudinary! (Saved locally)');
                }
            } else {
                alert('‚ùå Cloudinary not configured. Please check cloudinary-config.js');
            }
        }

        // ========== VIDEO MANAGEMENT ==========
        function uploadVideo(index) {
            document.getElementById('video' + index + 'Input').click();
        }

        async function handleVideoChange(index, input) {
            const file = input.files[0];
            if (!file) return;

            const preview = document.getElementById('video' + index + 'Preview');
            preview.src = URL.createObjectURL(file);

            // Upload to Cloudinary
            if (typeof uploadVideoToCloudinary === 'function') {
                alert('üì§ Uploading video to Cloudinary... This may take a moment for large files.');
                const { data, error } = await uploadVideoToCloudinary(file, 'videos');
                if (error) {
                    alert('‚ùå Cloudinary upload failed: ' + error.message);
                    return;
                }

                preview.src = data.url;

                // Save URL to Supabase database
                if (typeof updateSiteContent === 'function' && isSupabaseConfigured()) {
                    const { error: dbError } = await updateSiteContent({ ['video_url' + index]: data.url });
                    if (dbError) {
                        alert('‚ö†Ô∏è Uploaded to Cloudinary but DB save failed: ' + dbError.message);
                    } else {
                        alert('‚úÖ Video ' + index + ' uploaded to Cloudinary + saved to database!');
                    }
                } else {
                    // Save to localStorage as backup
                    const videos = JSON.parse(localStorage.getItem('cloudinary_videos') || '{}');
                    videos['video_' + index] = data.url;
                    localStorage.setItem('cloudinary_videos', JSON.stringify(videos));
                    alert('‚úÖ Video ' + index + ' uploaded to Cloudinary! (Saved locally)');
                }
            } else {
                alert('‚ùå Cloudinary video upload not available. Please check cloudinary-config.js');
            }
        }

        function removeVideo(index) {
            if (!confirm('Remove this video?')) return;
            const video = document.getElementById('video' + index + 'Preview');
            video.src = '';

            // Remove from localStorage
            const videos = JSON.parse(localStorage.getItem('cloudinary_videos') || '{}');
            delete videos['video_' + index];
            localStorage.setItem('cloudinary_videos', JSON.stringify(videos));

            // Remove from database if configured
            if (typeof updateSiteContent === 'function' && isSupabaseConfigured()) {
                updateSiteContent({ ['video_url' + index]: null });
            }

            alert('‚úÖ Video removed');
        }

        function addNewVideo() {
            alert('‚ûï Use the upload slots above to add videos!');
        }

        // ========== SERVICE IMAGE UPLOAD ==========
        function uploadServiceImage(index) {
            document.getElementById('service' + index + 'ImageInput').click();
        }

        async function handleServiceImageChange(index, input) {
            const file = input.files[0];
            if (!file) return;

            const preview = document.getElementById('service' + index + 'ImagePreview');

            // Instant local preview
            const reader = new FileReader();
            reader.onload = (e) => preview.src = e.target.result;
            reader.readAsDataURL(file);

            // Upload to Cloudinary
            if (typeof uploadToCloudinary === 'function') {
                const { data, error } = await uploadToCloudinary(file, 'services');
                if (error) {
                    alert('‚ùå Cloudinary upload failed: ' + error.message);
                    return;
                }

                preview.src = data.url;

                // Save to Supabase database
                if (typeof updateSiteContent === 'function' && isSupabaseConfigured()) {
                    const { error: dbError } = await updateSiteContent({ ['service_image' + index]: data.url });
                    if (dbError) {
                        alert('‚ö†Ô∏è Uploaded to Cloudinary but DB save failed');
                    } else {
                        alert('‚úÖ Service ' + index + ' image uploaded to Cloudinary + saved!');
                    }
                } else {
                    const serviceImages = JSON.parse(localStorage.getItem('service_images') || '{}');
                    serviceImages['service_' + index] = data.url;
                    localStorage.setItem('service_images', JSON.stringify(serviceImages));
                    alert('‚úÖ Service ' + index + ' image uploaded to Cloudinary! (Saved locally)');
                }
            } else {
                alert('‚ùå Cloudinary not configured');
            }
        }

        // ========== ABOUT IMAGE UPLOAD ==========
        function uploadAboutImage() {
            document.getElementById('aboutImageInput').click();
        }

        async function handleAboutImageChange(input) {
            const file = input.files[0];
            if (!file) return;

            const preview = document.getElementById('aboutImagePreview');
            const reader = new FileReader();
            reader.onload = (e) => preview.src = e.target.result;
            reader.readAsDataURL(file);

            // Upload to Cloudinary
            if (typeof uploadToCloudinary === 'function') {
                const { data, error } = await uploadToCloudinary(file, 'profile');
                if (error) {
                    alert('‚ùå Cloudinary upload failed: ' + error.message);
                    return;
                }

                preview.src = data.url;

                // Save to Supabase database
                if (typeof updateSiteContent === 'function' && isSupabaseConfigured()) {
                    const { error: dbError } = await updateSiteContent({ about_image: data.url });
                    if (dbError) {
                        alert('‚ö†Ô∏è Uploaded to Cloudinary but DB save failed');
                    } else {
                        alert('‚úÖ Profile photo uploaded to Cloudinary + saved!');
                    }
                } else {
                    localStorage.setItem('about_image', data.url);
                    alert('‚úÖ Profile photo uploaded to Cloudinary! (Saved locally)');
                }
            } else {
                alert('‚ùå Cloudinary not configured');
            }
        }

        // ========== YOUTUBE FUNCTIONS ==========
        function getYouTubeId(url) {
            if (!url) return null;
            const match = url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\s?]+)/);
            return match ? match[1] : null;
        }

        function previewYouTube(index) {
            const url = document.getElementById('youtubeUrl' + index).value;
            const videoId = getYouTubeId(url);
            const previewDiv = document.getElementById('youtubePreview' + index);

            if (videoId) {
                previewDiv.innerHTML = `
                    <iframe width="100%" height="200" 
                        src="https://www.youtube.com/embed/${videoId}" 
                        frameborder="0" allowfullscreen 
                        style="border-radius: 8px;">
                    </iframe>`;
            } else {
                previewDiv.innerHTML = '<p style="color: var(--danger);">‚ùå Invalid YouTube URL</p>';
            }
        }

        async function saveYouTubeVideos() {
            const videos = {
                youtube_video1: document.getElementById('youtubeUrl1').value,
                youtube_video2: document.getElementById('youtubeUrl2').value,
                youtube_video3: document.getElementById('youtubeUrl3').value,
                youtube_video4: document.getElementById('youtubeUrl4').value
            };

            // Always save local backup immediately
            localStorage.setItem('youtube_videos', JSON.stringify(videos));

            if (typeof updateSiteContent === 'function' && isSupabaseConfigured()) {
                const { error } = await updateSiteContent(videos);
                if (error) {
                    alert('‚ö†Ô∏è Saved locally, but cloud sync failed: ' + error.message);
                } else {
                    alert('‚úÖ YouTube videos saved (Cloud + Local)!');
                }
            } else {
                alert('‚úÖ Videos saved locally (Cloud not configured)!');
            }
        }

        // ========== CLOUDINARY DIRECT UPLOAD ==========
        const CLOUDINARY_CLOUD = 'dzp70azv3';
        const CLOUDINARY_PRESET = 'renderline_unsigned'; // You'll create this

        function uploadCloudinaryImage(type, index) {
            document.getElementById('cloud' + type.charAt(0).toUpperCase() + type.slice(1) + index + 'Input').click();
        }

        async function handleCloudinaryUpload(type, index, input) {
            const file = input.files[0];
            if (!file) return;

            const preview = document.getElementById('cloud' + type.charAt(0).toUpperCase() + type.slice(1) + index + 'Preview');
            const statusDiv = document.getElementById('uploadStatus');

            // Show instant preview
            const reader = new FileReader();
            reader.onload = (e) => preview.src = e.target.result;
            reader.readAsDataURL(file);

            // Show uploading status
            statusDiv.style.display = 'block';
            statusDiv.style.background = 'rgba(212, 175, 55, 0.1)';
            statusDiv.innerHTML = 'üì§ Uploading to Cloudinary...';

            try {
                const formData = new FormData();
                formData.append('file', file);
                formData.append('upload_preset', CLOUDINARY_PRESET);
                formData.append('folder', type);

                const response = await fetch(
                    `https://api.cloudinary.com/v1_1/${CLOUDINARY_CLOUD}/image/upload`,
                    { method: 'POST', body: formData }
                );

                const data = await response.json();
                console.log('Cloudinary response:', data);

                if (data.error) {
                    statusDiv.style.background = 'rgba(239, 68, 68, 0.1)';
                    statusDiv.innerHTML = `‚ùå Error: ${data.error.message}. <br><small>Create upload preset in Cloudinary Settings ‚Üí Upload ‚Üí Add upload preset ‚Üí Set to Unsigned</small>`;
                    alert('‚ùå Cloudinary error: ' + data.error.message);
                } else {
                    preview.src = data.secure_url;

                    // Save URL to localStorage immediately
                    const savedUrls = JSON.parse(localStorage.getItem('cloudinary_images') || '{}');
                    savedUrls[`${type}_${index}`] = data.secure_url;
                    localStorage.setItem('cloudinary_images', JSON.stringify(savedUrls));
                    console.log('Saved to localStorage:', savedUrls);

                    statusDiv.style.background = 'rgba(74, 222, 128, 0.1)';
                    statusDiv.innerHTML = `‚úÖ Uploaded! URL: <small>${data.secure_url.substring(0, 50)}...</small>`;

                    // Save to Supabase
                    if (typeof updateSiteContent === 'function' && isSupabaseConfigured()) {
                        const dbColumn = `cloudinary_${type}${index}`;
                        console.log('Saving to Supabase:', dbColumn, data.secure_url);
                        const { error: dbError } = await updateSiteContent({ [dbColumn]: data.secure_url });
                        if (dbError) {
                            console.error('Supabase save error:', dbError);
                            statusDiv.innerHTML += `<br><small style="color: orange;">‚ö†Ô∏è Cloud save failed: ${dbError.message}</small>`;
                        } else {
                            console.log('Saved to Supabase successfully');
                            statusDiv.innerHTML += `<br><small style="color: lime;">‚úì Saved to cloud database</small>`;
                        }
                    }
                    alert('‚úÖ Image uploaded and saved!');
                }
            } catch (error) {
                console.error('Upload error:', error);
                statusDiv.style.background = 'rgba(239, 68, 68, 0.1)';
                statusDiv.innerHTML = `‚ùå Upload failed: ${error.message}`;
                alert('‚ùå Upload failed: ' + error.message);
            }
        }

        // ========== AUTO LOGIN CHECK ==========
        document.addEventListener('DOMContentLoaded', async () => {
            if (typeof isSupabaseConfigured === 'function' && isSupabaseConfigured()) {
                const user = await getCurrentUser();
                if (user) {
                    showAdmin(user);
                }

                // Load saved YouTube URLs from Supabase
                const { data: content } = await getSiteContent();
                if (content) {
                    if (content.youtube_video1) document.getElementById('youtubeUrl1').value = content.youtube_video1;
                    if (content.youtube_video2) document.getElementById('youtubeUrl2').value = content.youtube_video2;
                    if (content.youtube_video3) document.getElementById('youtubeUrl3').value = content.youtube_video3;
                    if (content.youtube_video4) document.getElementById('youtubeUrl4').value = content.youtube_video4;
                    console.log('YouTube URLs loaded from Supabase');
                }
            }
        });
    </script>
</body>

</html>